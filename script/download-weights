#!/usr/bin/env python

import os
import sys
from pathlib import Path
from modelscope import snapshot_download

# 设置模型下载目录
def get_executable_path():
    if getattr(sys, 'frozen', False):
        return Path(sys.executable).parent.as_posix()
    else:
        return Path.cwd().as_posix()

ROOT_DIR = get_executable_path()

MODEL_DIR_PATH = Path(ROOT_DIR + "/models")
MODEL_DIR_PATH.mkdir(parents=True, exist_ok=True)
MODEL_DIR = MODEL_DIR_PATH.as_posix()

def download_model():
    try:
        # 从 ModelScope 下载模型
        CHATTTS_DIR = snapshot_download('pzc163/chatTTS', cache_dir=MODEL_DIR)
        print(f"模型下载成功，保存在 {CHATTTS_DIR}")
    except Exception as e:
        print(f"模型下载失败: {e}")

if __name__ == "__main__":
    download_model()